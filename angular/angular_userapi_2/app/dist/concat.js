!function(e){"use strict";angular.module("myApp",["ui.bootstrap","ngResource","toaster","ngAnimate","ngSanitize","ui.router","ngMessages"]).factory("_",["$window",function(e){return e._}]).factory("UserResource",["$resource",function(e){var t=e("api/users/:id",{id:"@id"},{update:{method:"PUT"}});return t}]).factory("httpRequestLogger",["$q","toaster",function(e,t){return{request:function(t){return t.headers.Authorization="gvdh",e.when(t)}}}]).factory("httpRequestErrorLog",["$q","toaster",function(e,t){return{requestError:function(r){return t.pop("error","Request failed!",r.status),e.reject(r)}}}]).factory("httpResponseLogger",["$q","toaster",function(e,t){return{response:function(t){return e.when(t)}}}]).factory("httpResponseErrorLog",["$q","toaster",function(e,t){return{responseError:function(r){return t.pop("error","Response Failed!",r.status),e.reject(request)}}}]).constant("config",{baseRoute:"api/",defaultPageSize:20}).config(["$httpProvider",function(e){e.interceptors.push("httpRequestLogger"),e.interceptors.push("httpResponseLogger"),e.interceptors.push("httpRequestErrorLog"),e.interceptors.push("httpResponseErrorLog")}]).config(["$stateProvider","$urlRouterProvider","$locationProvider",function(e,t,r){e.state("list",{url:"/list",templateUrl:"./list.html",controller:"UserListController",controllerAs:"vm",resolve:{users:["userService",function(e){return e.getUsers()}]}}).state("home",{url:"/"}).state("edit",{url:"/edit/:userId",templateUrl:"./edit.html",controller:"EditController",controllerAs:"vm"}).state("add",{url:"/add",templateUrl:"./edit.html",controller:"EditController",controllerAs:"vm"}).state("alert",{url:"/alert",templateUrl:"./alert.html",controller:"AlertController",controllerAs:"vm"}),t.otherwise("list"),r.html5Mode(!0)}]).config(["userServiceProvider",function(e){e.setBasePath("api/")}])}(_),function(){"use-strict";function e(e){function t(){function e(){$scope.apply(),1==r.counter&&(r.showAlert=!0),r.counter-=1,setTimeout(function(){e()},1e3)}e()}var r=this;r.counter=10,r.showAlert=!1,r.alert={type:"danger",msg:"Oh snap! Change a few things up and try submitting again."},t(),r.toggleAlert=function(){r.showAlert=!0},r.hideAlert=function(){r.showAlert=!1}}angular.module("myApp").controller("AlertController",e),e.$inject=["$interval"]}(),function(){"use-strict";function e(e,t,r,n){function o(){t.userId&&(s.userId=t.userId,r.getUser(s.userId).then(function(e){return s.user=e,e})),n.$watch("vm.user.age",function(t){e.info("Variable changed...",+t)})}var s=this;o(),s.submit=function(e){e&&r.save(s.user)}}angular.module("myApp").controller("EditController",e),e.$inject=["$log","$stateParams","userService","$scope"]}(),function(){angular.module("myApp").filter("gmailFilter",["$log","_",function(e,t){return function(r){if(!r)return r;var n=t.filter(r,function(e){return e.email.indexOf("gmail")>-1?e:void 0});return e.info(r),n}}])}(),function(){angular.module("myApp").filter("upperFilter",function(){return function(e,t){var r=e||"",n="";return n=t?r.toUpperCase():r.toLowerCase()}})}(),function(){"use strict";function e(e,t,r,n){function o(){r("gmailFilter");i.users=n}function s(e){i.reverse=i.sortBy===e?!i.reverse:!1,i.sortBy=e}function u(r){e.deleteUser(r).then(function(e){i.users=t.without(i.users,r)})["catch"](function(e){i.errorMessage="Failed to delete user: "+e.status})}var i=this;i.users=[],i.sortBy="name",i.errorMessage="",i.sortTableBy=s,i.deleteUser=u,i.text="Hello World!",o()}angular.module("myApp").controller("UserListController",e),e.$inject=["userService","_","$filter","users"]}(),function(){"use strict";function e(){var e;this.setBasePath=function(t){e=t},this.$get=["$http","config","UserResource",function(e,t,r){function n(e){return r.get({id:e}).$promise}function o(){return r.query().$promise.then(function(e){return e})}function s(e){return r.remove(e).$promise}function u(e){return e.id?r.update(e).$promise:r.save(e).$promise}return{getUser:n,getUsers:o,deleteUser:s,save:u}}]}angular.module("myApp").provider("userService",e)}();